<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å››å¤©ç‹åœ°å›¾æ¸¸æˆ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Microsoft JhengHei', 'å¾®è»Ÿæ­£é»‘é«”', sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #e6f0ff, #d4e4ff);
            min-height: 100vh;
            padding: 20px;
            color: #1a3c5f;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        
        header {
            text-align: center;
            padding: 20px 0;
            margin-bottom: 20px;
        }
        
        h1 {
            font-size: 2.5rem;
            color: #2a5298;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.1);
            margin-bottom: 10px;
        }
        
        .game-container {
            display: flex;
            flex-direction: column;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 100, 0.2);
            overflow: hidden;
        }
        
        .game-header {
            padding: 20px;
            background: linear-gradient(to right, #3a7bd5, #2a5298);
            color: white;
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        
        .game-header:before {
            content: "";
            position: absolute;
            top: -10px;
            left: -10px;
            right: -10px;
            bottom: -10px;
            background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, rgba(255,255,255,0) 70%);
            z-index: 0;
        }
        
        .game-header h2 {
            position: relative;
            z-index: 1;
            font-size: 1.8rem;
        }
        
        .game-content {
            display: flex;
            flex-wrap: wrap;
            padding: 20px;
        }
        
        .map-container {
            flex: 3;
            min-width: 600px;
            height: 500px;
            position: relative;
            background: #eaf2ff;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: inset 0 0 15px rgba(0,0,0,0.1);
            background-image: 
                radial-gradient(circle at 10% 10%, rgba(200, 220, 255, 0.2) 0.5px, transparent 1px),
                radial-gradient(circle at 10% 10%, rgba(200, 220, 255, 0.2) 0.5px, transparent 1px);
            background-size: 40px 40px;
        }
        
        .drag-items {
            flex: 1;
            min-width: 200px;
            padding: 20px;
            background: #f8faff;
            border-radius: 10px;
            margin-left: 20px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
        }
        
        .drag-items h3 {
            text-align: center;
            margin-bottom: 20px;
            color: #2a5298;
            border-bottom: 2px solid #d4e4ff;
            padding-bottom: 10px;
            position: relative;
        }
        
        .drag-items h3:after {
            content: "";
            position: absolute;
            bottom: -2px;
            left: 25%;
            width: 50%;
            height: 2px;
            background: linear-gradient(to right, transparent, #4a86e8, transparent);
        }
        
        .drag-item {
            background: linear-gradient(135deg, #ff6b6b, #ff5252);
            color: white;
            padding: 15px;
            margin: 15px 0;
            border-radius: 8px;
            text-align: center;
            cursor: grab;
            box-shadow: 0 4px 10px rgba(0,0,0,0.15);
            transition: all 0.3s ease;
            font-weight: bold;
            user-select: none;
            position: relative;
            overflow: hidden;
        }
        
        .drag-item:before {
            content: "";
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
            transition: 0.5s;
        }
        
        .drag-item:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 15px rgba(0,0,0,0.2);
        }
        
        .drag-item:hover:before {
            left: 100%;
        }
        
        .slots-container {
            width: 100%;
            padding: 20px;
            background: #f0f7ff;
            border-top: 2px solid #d4e4ff;
        }
        
        .slots-title {
            text-align: center;
            margin-bottom: 15px;
            color: #2a5298;
            font-size: 1.3rem;
            font-weight: bold;
        }
        
        .slots {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-bottom: 20px;
        }
        
        .slot {
            width: 130px;
            height: 70px;
            background: #e1e8f0;
            border-radius: 10px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            box-shadow: inset 0 0 8px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
            position: relative;
            border: 2px solid #c5d5e9;
        }
        
        .slot.fixed {
            background: linear-gradient(to bottom, #a8d1b0, #8fc19d);
            color: #1a5c2c;
            border: 2px solid #7db68a;
        }
        
        .slot.highlight {
            background: linear-gradient(to bottom, #ffd166, #ffc44d);
            transform: scale(1.05);
            box-shadow: 0 0 15px rgba(255, 209, 102, 0.5);
            border: 2px solid #ffb700;
        }
        
        .slot .name {
            font-size: 1rem;
            text-align: center;
            padding: 5px;
            font-weight: bold;
        }
        
        .slot .number {
            position: absolute;
            top: 5px;
            left: 5px;
            font-size: 0.8rem;
            color: #5a7d9a;
            background: rgba(255,255,255,0.7);
            border-radius: 10px;
            padding: 2px 8px;
        }
        
        .controls {
            display: flex;
            justify-content: center;
            gap: 25px;
            margin-top: 15px;
        }
        
        button {
            padding: 14px 35px;
            border: none;
            border-radius: 50px;
            font-size: 1.1rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(0,0,0,0.15);
            position: relative;
            overflow: hidden;
            z-index: 1;
        }
        
        button:before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 0%;
            height: 100%;
            background: rgba(255,255,255,0.2);
            transition: 0.4s;
            z-index: -1;
        }
        
        button:hover:before {
            width: 100%;
        }
        
        #submit-btn {
            background: linear-gradient(to right, #2ecc71, #27ae60);
            color: white;
        }
        
        #reset-btn {
            background: linear-gradient(to right, #e74c3c, #c0392b);
            color: white;
        }
        
        button:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.2);
        }
        
        button:active {
            transform: translateY(1px);
        }
        
        .message {
            text-align: center;
            padding: 15px;
            margin: 20px auto 10px;
            border-radius: 10px;
            font-weight: bold;
            max-width: 80%;
            display: none;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
            animation: fadeIn 0.5s ease;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .message.success {
            background: linear-gradient(to right, #d4edda, #c3e6cb);
            color: #155724;
            border: 1px solid #b1dfbb;
            display: block;
        }
        
        .message.error {
            background: linear-gradient(to right, #f8d7da, #f5c6cb);
            color: #721c24;
            border: 1px solid #f1b0b7;
            display: block;
        }
        
        .node {
            position: absolute;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            text-align: center;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            cursor: pointer;
            transition: all 0.3s ease;
            z-index: 10;
            border: 2px solid white;
        }
        
        .node:hover {
            transform: scale(1.05);
            box-shadow: 0 8px 20px rgba(0,0,0,0.3);
        }
        
        .node-center {
            width: 90px;
            height: 90px;
            background: linear-gradient(135deg, #4a86e8, #2a5298);
            font-size: 0.9rem;
            line-height: 1.3;
        }
        
        .node-normal {
            width: 70px;
            height: 70px;
            background: linear-gradient(135deg, #5fa3f7, #3a7bd5);
            font-size: 1rem;
        }
        
        .edge {
            position: absolute;
            background: #8a9fb5;
            transform-origin: 0 0;
            z-index: 1;
            height: 3px;
        }
        
        .distance {
            position: absolute;
            background: rgba(255, 255, 255, 0.9);
            padding: 3px 10px;
            border-radius: 15px;
            font-size: 0.9rem;
            color: #2a5298;
            font-weight: bold;
            z-index: 5;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            border: 1px solid #c5d5ea;
        }
        
        .instructions {
            background: #e3f2fd;
            padding: 20px;
            border-radius: 12px;
            margin: 20px 0 30px;
            border-left: 5px solid #3a7bd5;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
        }
        
        .instructions h3 {
            margin-bottom: 15px;
            color: #2a5298;
            font-size: 1.3rem;
            display: flex;
            align-items: center;
        }
        
        .instructions h3:before {
            content: "ğŸ“Œ";
            margin-right: 10px;
        }
        
        .instructions p {
            margin-bottom: 10px;
            line-height: 1.6;
            padding-left: 25px;
            position: relative;
        }
        
        .instructions p:before {
            content: "â€¢";
            position: absolute;
            left: 10px;
            color: #3a7bd5;
            font-weight: bold;
        }
        
        .optimal-distance {
            background: linear-gradient(to right, #ffd166, #ffb347);
            color: #5a3700;
            padding: 8px 15px;
            border-radius: 30px;
            display: inline-block;
            margin-top: 10px;
            font-weight: bold;
            box-shadow: 0 3px 8px rgba(0,0,0,0.1);
        }
        
        .node-info {
            position: absolute;
            background: rgba(255, 255, 255, 0.95);
            padding: 10px 15px;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            z-index: 20;
            max-width: 200px;
            font-size: 0.9rem;
            display: none;
            border: 1px solid #d4e4ff;
        }
        
        @media (max-width: 900px) {
            .game-content {
                flex-direction: column;
            }
            
            .drag-items {
                margin-left: 0;
                margin-top: 20px;
            }
            
            .map-container {
                min-width: 100%;
                height: 400px;
            }
            
            .slots {
                flex-wrap: wrap;
            }
            
            .slot {
                width: 45%;
                margin-bottom: 10px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>å››å¤©ç‹åœ°åœ–éŠæˆ²</h1>
        </header>
        
        <div class="instructions">
            <h3>ä»»å‹™èªªæ˜</h3>
            <p>å¾é˜¿å±±ä¼¯å®¶ç‚ºèµ·é»è¦åŠƒæœ€çŸ­è·¯ç·šè¨ªå•æ‰€æœ‰å››å¤©ç‹ä¸¦è¿”å›é˜¿æ–‡ä¼¯å®¶</p>
            <p>æç¤ºï¼šæ‹–å‹•å³å´çš„å¤©ç‹åˆ°ä¸‹æ–¹çš„ç©ºæ ¼ä¸­ï¼Œä¸”é˜¿æ–‡ä¼¯å’Œå½ˆç ç‹æ˜¯åŒå€‹ä½ç½®</p>
            <p class="optimal-distance">æœ€çŸ­è·¯å¾‘é•·åº¦ç‚º 15 å–®ä½</p>
        </div>
        
        <div class="game-container">
            <div class="game-header">
                <h2>è¦åŠƒå››å¤©ç‹è¨ªå•è·¯ç·š</h2>
            </div>
            
            <div class="game-content">
                <div class="map-container" id="map">
                    <!-- åœ°åœ–å°‡ç”±JavaScriptå‹•æ…‹ç”Ÿæˆ -->
                </div>
                
                <div class="drag-items">
                    <h3>æ‹–å‹•å¤©ç‹åˆ°è·¯ç·šä¸­</h3>
                    <div class="drag-item" draggable="true" data-item="é™€èºå¸">é™€èºå¸</div>
                    <div class="drag-item" draggable="true" data-item="ç¥å°„æ‰‹">ç¥å°„æ‰‹</div>
                    <div class="drag-item" draggable="true" data-item="ä¸Ÿæ¨™ä»”">ä¸Ÿæ¨™ä»”</div>
                    <div class="drag-item" draggable="true" data-item="å½ˆç ç‹">å½ˆç ç‹</div>
                </div>
            </div>
            
            <div class="slots-container">
                <div class="slots-title">è¨ªå•è·¯ç·šè¦åŠƒ</div>
                <div class="slots">
                    <div class="slot fixed" data-slot="0">
                        <div class="number">èµ·é»</div>
                        <div class="name">é˜¿å±±ä¼¯</div>
                    </div>
                    <div class="slot" data-slot="1">
                        <div class="number">ç¬¬ä¸€ç«™</div>
                        <div class="name"></div>
                    </div>
                    <div class="slot" data-slot="2">
                        <div class="number">ç¬¬äºŒç«™</div>
                        <div class="name"></div>
                    </div>
                    <div class="slot" data-slot="3">
                        <div class="number">ç¬¬ä¸‰ç«™</div>
                        <div class="name"></div>
                    </div>
                    <div class="slot" data-slot="4">
                        <div class="number">ç¬¬å››ç«™</div>
                        <div class="name"></div>
                    </div>
                    <div class="slot fixed" data-slot="5">
                        <div class="number">çµ‚é»</div>
                        <div class="name">é˜¿æ–‡ä¼¯/å½ˆç ç‹</div>
                    </div>
                </div>
                
                <div class="controls">
                    <button id="submit-btn">å®Œæˆè·¯ç·š</button>
                    <button id="reset-btn">é‡ç½®è·¯ç·š</button>
                </div>
                
                <div class="message" id="message"></div>
            </div>
        </div>
    </div>

    <script>
        // æ¯”ä¾‹å°º
        const SCALE = 60;
        const CENTER_X = 500;
        const CENTER_Y = 250;
        
        // ç¯€é»ä½ç½®
        const nodes = {
            "é˜¿å±±ä¼¯": {
                x: CENTER_X - 5 * SCALE * 0.85,
                y: CENTER_Y - 5 * SCALE * 0.55
            },
            "é™€èºå¸": {
                x: CENTER_X + 2 * SCALE * 0.85,
                y: CENTER_Y - 2 * SCALE * 0.55
            },
            "ä¸Ÿæ¨™ä»”": {
                x: CENTER_X - 3 * SCALE * 0.85,
                y: CENTER_Y + 3 * SCALE * 0.55
            },
            "ç¥å°„æ‰‹": {
                x: CENTER_X + 3 * SCALE * 0.85,
                y: CENTER_Y + 3 * SCALE * 0.55
            },
            "é˜¿æ–‡ä¼¯/å½ˆç ç‹": {
                x: CENTER_X,
                y: CENTER_Y
            }
        };
        
        // é€£æ¥é—œä¿‚
        const edges = [
            {from: "é˜¿å±±ä¼¯", to: "é™€èºå¸", distance: 7},
            {from: "é˜¿å±±ä¼¯", to: "é˜¿æ–‡ä¼¯/å½ˆç ç‹", distance: 5},
            {from: "é˜¿å±±ä¼¯", to: "ä¸Ÿæ¨™ä»”", distance: 5},
            {from: "é™€èºå¸", to: "é˜¿æ–‡ä¼¯/å½ˆç ç‹", distance: 2},
            {from: "é™€èºå¸", to: "ç¥å°„æ‰‹", distance: 3},
            {from: "ç¥å°„æ‰‹", to: "é˜¿æ–‡ä¼¯/å½ˆç ç‹", distance: 3},
            {from: "ä¸Ÿæ¨™ä»”", to: "é˜¿æ–‡ä¼¯/å½ˆç ç‹", distance: 3},
            {from: "ä¸Ÿæ¨™ä»”", to: "ç¥å°„æ‰‹", distance: 5}
        ];
        
        // æ­£ç¢ºè·¯ç·šé †åº
        const correctOrder = ["é˜¿å±±ä¼¯", "ä¸Ÿæ¨™ä»”", "ç¥å°„æ‰‹", "é™€èºå¸", "å½ˆç ç‹", "é˜¿æ–‡ä¼¯/å½ˆç ç‹"];
        
        // ç•¶å‰é¸æ“‡çš„è·¯ç·š
        let currentRoute = {
            0: "é˜¿å±±ä¼¯",
            1: null,
            2: null,
            3: null,
            4: null,
            5: "é˜¿æ–‡ä¼¯/å½ˆç ç‹"
        };
        
        // åˆå§‹åŒ–åœ°åœ–
        function initMap() {
            const mapContainer = document.getElementById('map');
            
            // ç¹ªè£½é€£æ¥ç·š
            edges.forEach(edge => {
                const fromNode = nodes[edge.from];
                const toNode = nodes[edge.to];
                
                // è¨ˆç®—ç·šæ¢è§’åº¦å’Œé•·åº¦
                const dx = toNode.x - fromNode.x;
                const dy = toNode.y - fromNode.y;
                const length = Math.sqrt(dx * dx + dy * dy);
                const angle = Math.atan2(dy, dx) * 180 / Math.PI;
                
                // å‰µå»ºç·šæ¢å…ƒç´ 
                const line = document.createElement('div');
                line.className = 'edge';
                line.style.width = `${length}px`;
                line.style.left = `${fromNode.x}px`;
                line.style.top = `${fromNode.y}px`;
                line.style.transform = `rotate(${angle}deg)`;
                
                // å‰µå»ºè·é›¢æ¨™ç±¤
                const distance = document.createElement('div');
                distance.className = 'distance';
                distance.textContent = edge.distance;
                distance.style.left = `${(fromNode.x + toNode.x) / 2 - 15}px`;
                distance.style.top = `${(fromNode.y + toNode.y) / 2 - 10}px`;
                
                mapContainer.appendChild(line);
                mapContainer.appendChild(distance);
            });
            
            // ç¹ªè£½ç¯€é»
            Object.keys(nodes).forEach(nodeName => {
                const node = document.createElement('div');
                const isCenter = nodeName === "é˜¿æ–‡ä¼¯/å½ˆç ç‹";
                node.className = `node ${isCenter ? 'node-center' : 'node-normal'}`;
                node.dataset.name = nodeName;
                node.style.left = `${nodes[nodeName].x - (isCenter ? 45 : 35)}px`;
                node.style.top = `${nodes[nodeName].y - (isCenter ? 45 : 35)}px`;
                
                // ç‰¹æ®Šè™•ç†ä¸­å¿ƒç¯€é»çš„æ–‡å­—
                if (isCenter) {
                    node.innerHTML = `
                        <div style="line-height: 1.3; padding: 5px">
                            <div>é˜¿æ–‡ä¼¯</div>
                            <div>å½ˆç ç‹</div>
                        </div>
                    `;
                } else {
                    node.textContent = nodeName;
                }
                
                // æ·»åŠ æ‡¸åœäº‹ä»¶
                node.addEventListener('mouseenter', showNodeInfo);
                node.addEventListener('mouseleave', hideNodeInfo);
                
                mapContainer.appendChild(node);
            });
            
            // æ·»åŠ ç¯€é»ä¿¡æ¯å½ˆçª—
            const infoBox = document.createElement('div');
            infoBox.className = 'node-info';
            infoBox.id = 'node-info';
            mapContainer.appendChild(infoBox);
        }
        
        // é¡¯ç¤ºç¯€é»ä¿¡æ¯
        function showNodeInfo(e) {
            const nodeName = e.target.dataset.name;
            const infoBox = document.getElementById('node-info');
            
            // ç²å–é€£æ¥ä¿¡æ¯
            let connections = edges.filter(edge => 
                edge.from === nodeName || edge.to === nodeName
            ).map(edge => {
                const otherNode = edge.from === nodeName ? edge.to : edge.from;
                return `${otherNode} (${edge.distance}å–®ä½)`;
            }).join('<br>');
            
            infoBox.innerHTML = `<strong>${nodeName}</strong><hr style="margin:5px 0">é€£æ¥é»ï¼š<br>${connections}`;
            infoBox.style.display = 'block';
            infoBox.style.left = `${e.pageX + 10}px`;
            infoBox.style.top = `${e.pageY + 10}px`;
        }
        
        function hideNodeInfo() {
            document.getElementById('node-info').style.display = 'none';
        }
        
        // æ‹–æ”¾åŠŸèƒ½å¯¦ç¾
        function setupDragAndDrop() {
            const dragItems = document.querySelectorAll('.drag-item');
            const slots = document.querySelectorAll('.slot:not(.fixed)');
            
            // æ‹–å‹•é–‹å§‹
            dragItems.forEach(item => {
                item.addEventListener('dragstart', e => {
                    e.dataTransfer.setData('text/plain', e.target.dataset.item);
                    e.target.classList.add('dragging');
                });
                
                item.addEventListener('dragend', e => {
                    e.target.classList.remove('dragging');
                });
            });
            
            // æ‹–å‹•ç¶“éæ§½ä½
            slots.forEach(slot => {
                slot.addEventListener('dragover', e => {
                    e.preventDefault();
                    slot.classList.add('highlight');
                });
                
                slot.addEventListener('dragleave', () => {
                    slot.classList.remove('highlight');
                });
                
                // æ”¾ç½®åˆ°æ§½ä½
                slot.addEventListener('drop', e => {
                    e.preventDefault();
                    slot.classList.remove('highlight');
                    
                    const item = e.dataTransfer.getData('text/plain');
                    const slotIndex = parseInt(slot.dataset.slot);
                    
                    // æª¢æŸ¥æ˜¯å¦å·²ç¶“æ”¾ç½®é
                    const nameDiv = slot.querySelector('.name');
                    
                    // æ›´æ–°æ§½ä½é¡¯ç¤º
                    nameDiv.textContent = item;
                    
                    // æ›´æ–°ç•¶å‰è·¯ç·š
                    currentRoute[slotIndex] = item;
                });
            });
        }
        
        // æª¢æŸ¥è§£æ±ºæ–¹æ¡ˆ
        function checkSolution() {
            const messageEl = document.getElementById('message');
            messageEl.className = 'message';
            
            // æª¢æŸ¥æ‰€æœ‰æ§½ä½æ˜¯å¦å·²å¡«
            for (let i = 1; i <= 4; i++) {
                if (!currentRoute[i]) {
                    showMessage('è«‹å¡«æ»¿æ‰€æœ‰ç©ºæ ¼ï¼', 'error');
                    return;
                }
            }
            
            // æª¢æŸ¥æ˜¯å¦æ‰€æœ‰å¤©ç‹éƒ½è¢«è¨ªå•
            const requiredItems = ["ä¸Ÿæ¨™ä»”", "ç¥å°„æ‰‹", "é™€èºå¸", "å½ˆç ç‹"];
            const placedItems = Object.values(currentRoute).filter(Boolean);
            
            if (!requiredItems.every(item => placedItems.includes(item))) {
                showMessage('æ²’æœ‰æ‰¾åˆ°æ‰€æœ‰å››å¤©ç‹ï¼', 'error');
                return;
            }
            
            // æª¢æŸ¥æ˜¯å¦ç‚ºæ­£ç¢ºè·¯ç·š
            const isCorrect = Object.keys(currentRoute)
                .map(key => currentRoute[key])
                .every((item, index) => item === correctOrder[index]);
            
            if (isCorrect) {
                showMessage('æ­å–œä½ æ‰¾åˆ°äº†æœ€çŸ­è·¯å¾‘! ç¸½è·é›¢ç‚º15å–®ä½ã€‚ç¹¼çºŒä¸‹ä¸€é—œå§!', 'success');
            } else {
                showMessage('è·¯ç·šä¸æ˜¯æœ€çŸ­è·¯å¾‘ï¼Œå†è©¦ä¸€æ¬¡å§ã€‚', 'error');
            }
        }
        
        // é¡¯ç¤ºæ¶ˆæ¯
        function showMessage(message, type) {
            const messageEl = document.getElementById('message');
            messageEl.textContent = message;
            messageEl.className = `message ${type}`;
            
            // 5ç§’å¾Œè‡ªå‹•æ¶ˆå¤±
            setTimeout(() => {
                if (messageEl.className.includes(type)) {
                    messageEl.className = 'message';
                }
            }, 5000);
        }
        
        // é‡ç½®è·¯ç·š
        function resetRoute() {
            currentRoute = {
                0: "é˜¿å±±ä¼¯",
                1: null,
                2: null,
                3: null,
                4: null,
                5: "é˜¿æ–‡ä¼¯/å½ˆç ç‹"
            };
            
            document.querySelectorAll('.slot:not(.fixed) .name').forEach(el => {
                el.textContent = '';
            });
            
            const messageEl = document.getElementById('message');
            messageEl.className = 'message';
        }
        
        // åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', () => {
            initMap();
            setupDragAndDrop();
            
            // äº‹ä»¶ç›£è½
            document.getElementById('submit-btn').addEventListener('click', checkSolution);
            document.getElementById('reset-btn').addEventListener('click', resetRoute);
            
            // è·Ÿéš¨é¼ æ¨™ç§»å‹•ç¯€é»ä¿¡æ¯
            document.addEventListener('mousemove', (e) => {
                const infoBox = document.getElementById('node-info');
                if (infoBox.style.display === 'block') {
                    infoBox.style.left = `${e.pageX + 10}px`;
                    infoBox.style.top = `${e.pageY + 10}px`;
                }
            });
        });
    </script>
</body>
</html>